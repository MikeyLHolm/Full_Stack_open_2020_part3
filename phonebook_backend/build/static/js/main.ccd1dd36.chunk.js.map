{"version":3,"sources":["components/Filter.js","components/Notification.js","components/PersonForm.js","components/Persons.js","services/persons.js","App.js","index.js"],"names":["Filter","text","filter","onChange","value","Notification","message","type","notificationStyle","background","color","fontSize","borderStyle","borderRadius","padding","marginBottom","style","PersonForm","addPerson","name","nameOnChange","number","numberOnChange","onSubmit","Persons","filterName","persons","deletePerson","person","toLowerCase","includes","map","dude","key","id","onClick","baseUrl","axios","get","then","response","data","newObject","post","delete","put","App","useState","setPersons","newName","setNewName","newNumber","setNewNumber","newFilter","setNewFilter","notification","setNotification","notificationType","setNotificationType","useEffect","personService","initialPersons","notificationMessage","setTimeout","event","target","preventDefault","personObject","window","confirm","idd","find","p","updatedPerson","catch","error","location","reload","returnedPerson","concat","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.ccd1dd36.chunk.js","sourcesContent":["import React from 'react'\n\nconst Filter = ({ text, filter, onChange }) => {\n  return (\n   <div>\n     {text}\n     <input\n       value={filter}\n       onChange={onChange}\n     />\n   </div>\n  )\n}\n\nexport default Filter","import React from 'react'\n\nconst Notification = ({ message, type }) => {\n  if (message === null) {\n    return null\n  }\n\n  const notificationStyle = {\n    background: 'lightgrey',\n    color: type === 'ok' ? 'green' : 'red',\n    fontSize: 20,\n    borderStyle: 'solid',\n    borderRadius: 5,\n    padding: 5,\n    marginBottom: 10\n  }\n\n  return (\n    <div style={notificationStyle}>\n       {message}\n    </div>\n  )\n}\n\nexport default Notification","import React from 'react'\n\nconst PersonForm = ({ addPerson, name, nameOnChange, number, numberOnChange  }) => {\n  return (\n    <form onSubmit={addPerson}>\n      <div>\n        name:\n        <input\n          value={name}\n          onChange={nameOnChange}\n        />\n      </div>\n      <div>\n        number:\n        <input\n          value={number}\n          onChange={numberOnChange}\n        />\n      </div>\n      <div>\n        <button type=\"submit\">add</button>\n      </div>\n    </form>\n\n  )\n}\n\nexport default PersonForm","import React from 'react'\n\nconst Persons = ({ filterName, persons, deletePerson }) =>  {\n  return (\n    <div>\n      {persons.filter(person =>\n        person.name.toLowerCase().includes(filterName.toLowerCase()))\n        .map(dude =>\n        <span key={dude.id}>\n          {dude.name} {dude.number}\n          <button onClick={() => deletePerson(dude.id, dude.name)}>Delete</button>\n          <br/>\n        </span>\n      )}\n    </div>\n  )\n}\n\nexport default Persons","import axios from 'axios'\nconst baseUrl = 'http://localhost:3001/api/persons'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nconst create = newObject => {\n  const request = axios.post(baseUrl, newObject)\n  return request.then(response => response.data)\n}\n\nconst del = id => {\n  const request = axios.delete(`${baseUrl}/${id}`)\n  return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\n  return request.then(response => response.data)\n}\n\nexport default { getAll, create, del, update }","import React, { useState, useEffect } from 'react'\nimport Filter from \"./components/Filter\"\nimport Notification from './components/Notification'\nimport PersonForm from \"./components/PersonForm\"\nimport Persons from \"./components/Persons\"\nimport personService from './services/persons'\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([])\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ newFilter, setNewFilter ] = useState('')\n  const [ notification, setNotification ] = useState(null)\n  const [ notificationType, setNotificationType ] = useState(null)\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(initialPersons => {\n        setPersons(initialPersons)\n      })\n  }, [])\n\n  const notificationMessage = (text, type) => {\n    setNotification(`${text} ${newName}`)\n    setNotificationType(type)\n    setTimeout(() => setNotification(null), 2000)\n    setNewName('')\n    setNewNumber('')\n  }\n\n  const addPerson = (event) => {\n    event.preventDefault()\n\n    const personObject = {\n      name: newName,\n      number: newNumber\n    }\n\n    if (persons.map(person => person.name).includes(newName)) {\n\n      if (window.confirm(newName + ' is already added to phonebook, replace the old number with a new one?')) {\n        const idd = persons.find(p => p.name === newName).id\n\n        personService\n          .update(idd, personObject)\n          .then(updatedPerson => {\n            setPersons(persons.map(p => p.id === idd ? updatedPerson : p))\n            notificationMessage('Updated', 'ok')\n          })\n          .catch(error => {\n            if (error.message === \"Request failed with status code 404\"){\n              notificationMessage(`Information of ${newName} has already been removed from server`, 'error')\n              window.location.reload(false)\n            }\n          })\n      }\n\n    } else {\n\n      personService\n        .create(personObject)\n        .then(returnedPerson => {\n          setPersons(persons.concat(returnedPerson))\n          notificationMessage('Added', 'ok')\n        })\n    }\n  }\n\n  const deletePerson = (id, name) => {\n    if (window.confirm(`Do you want to delete ${name} from phonebook?`)) {\n      personService\n        .del(id)\n        .then(() => {\n          setPersons(persons.filter(p => p.id !== id))\n          notificationMessage('Deleted', 'ok')\n        })\n        .catch(() => {\n          notificationMessage(`Information of ${name} has already been removed from server`, 'error')\n          setPersons(persons.filter(p => p.id !== id))\n        })\n    }\n  }\n\n  const handleNameChange = (event) => setNewName(event.target.value)\n  const handleNumberChange = (event) => setNewNumber(event.target.value)\n  const handleFilterChange = (event) => setNewFilter(event.target.value)\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={notification} type={notificationType} />\n      <Filter text='filter shown with' filter={newFilter} onChange={handleFilterChange}/>\n      <h3>add a new</h3>\n      <PersonForm\n        addPerson={addPerson}\n        name={newName}\n        nameOnChange={handleNameChange}\n        number={newNumber}\n        numberOnChange={handleNumberChange}\n      />\n      <h3>Numbers</h3>\n      <Persons\n        filterName={newFilter}\n        persons={persons}\n        deletePerson={deletePerson}\n      />\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}